<div [class.empresa-container]="router.url === ruta_admin">
  <div class="row">
    <div class="col-md-12">
      <form (submit)="store()"
            *ngIf="rubros !== null && emp != null"
            [formGroup]="empresaGroup"
            role="form">
        <nb-card>
          <nb-card-header><h3 class="signup-title">Editar Empresa</h3></nb-card-header>
        </nb-card>
        <nb-card>
          <nb-card-header>
            Datos de la Empresa
          </nb-card-header>
          <nb-card-body>
            <div class="row">
              <div class="col-sm-4 form-group">
                <label for="rubro_id">Lista de rubros</label>
                <select class="form-control" formControlName="rubro_id" id="rubro_id" name="rubro_id">
                  <option *ngFor="let rubro of rubros" [value]="rubro.rubro_id">{{ rubro.nombre }}</option>
                </select>
                <div *ngIf="empresaGroup.get('rubro_id').status === 'INVALID' && empresaGroup.get('rubro_id').dirty"
                     class="alert alert-danger">
                  <strong>Elija un rubro</strong>
                </div>
              </div>
              <div class="col-sm-4 form-group">
                <label for="nombre">Nombre de la empresa</label>
                <input class="form-control" formControlName="nombre" id="nombre" name="nombre" placeholder="Empresa"
                       type="text">
                <div *ngIf="empresaGroup.get('nombre').status === 'INVALID' && empresaGroup.get('nombre').dirty"
                     class="alert alert-danger">
                  <strong>El nombre de la empresa es obligatorio</strong>
                </div>
              </div>
              <div class="col-sm-4 form-group">
                <label for="nit">NIT</label>
                <input class="form-control" formControlName="nit" id="nit" name="nit" placeholder="NIT" type="text">
                <div *ngIf="empresaGroup.get('nit').status === 'INVALID'&& empresaGroup.get('nit').dirty"
                     class="alert alert-danger">
                  <strong>Registrar el NIT es obligatorio</strong>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-sm-4 form-group">
                <label for="telefono">Telefono</label>
                <input class="form-control" formControlName="telefono" id="telefono" name="telefono"
                       placeholder="Telefono"
                       type="text">
                <div *ngIf="empresaGroup.get('telefono').status === 'INVALID' && empresaGroup.get('telefono').dirty"
                     class="alert alert-danger">
                  <strong>El numero de telefono es obligatorio</strong>
                </div>
              </div>
              <div class="col-sm-4 form-group">
                <label for="pagina_web">Pagina web (Opcional)</label>
                <input class="form-control" formControlName="pagina_web" id="pagina_web" name="pagina_web"
                       placeholder="Pagina Web"
                       type="url">
              </div>
              <div class="col-sm-4 form-group">
                <label for="pais">País</label>
                <select class="form-control" formControlName="pais" id="pais" name="pais">
                  <option *ngFor="let pais of paises" [value]="pais.nombre">{{ pais?.nombre }}</option>
                </select>
                <div *ngIf="empresaGroup.get('pais').status === 'INVALID' && empresaGroup.get('pais').dirty"
                     class="alert alert-danger">
                  <strong>Ingresa el país de la empresa</strong>
                </div>
              </div>
              <div class="col-sm-4 form-group">
                <label for="ciudad_localidad">Ciudad/Localidad</label>
                <input class="form-control" formControlName="ciudad_localidad" id="ciudad_localidad"
                       name="ciudad_localidad"
                       placeholder="Ciudad o Localidad" type="text">
                <div
                  *ngIf="empresaGroup.get('ciudad_localidad').status === 'INVALID' && empresaGroup.get('ciudad_localidad').dirty"
                  class="alert alert-danger">
                  <strong>Ingresa la ciudad o localidad de la empresa</strong>
                </div>
              </div>
              <div class="col-sm-4 form-group">
                <label for="direccion">Direccion</label>
                <input class="form-control" formControlName="direccion" id="direccion" name="direccion"
                       placeholder="Direccion"
                       type="text">
                <div *ngIf="empresaGroup.get('direccion').status === 'INVALID' && empresaGroup.get('direccion').dirty"
                     class="alert alert-danger">
                  <strong>La direccion de la empresa es obligatoria</strong>
                </div>
              </div>
              <div class="col-sm-4 form-group">
                <label for="representante_legal">Representante legal</label>
                <input class="form-control" formControlName="representante_legal" id="representante_legal"
                       name="representante_legal"
                       placeholder="Representante Legal" type="text">
                <div
                  *ngIf="empresaGroup.get('representante_legal').status === 'INVALID' && empresaGroup.get('representante_legal').dirty"
                  class="alert alert-danger">
                  <strong>El representante legal de la empresa es obligatoria</strong>
                </div>
              </div>
            </div>
            <div class="row">
              <div *ngIf="router.url === ruta_admin" class="col-sm-4 form-group">
                <label for="max_participantes">Maximo de participantes</label>
                <input class="form-control" formControlName="max_participantes" id="max_participantes" max="10"
                       min="0" name="max_participantes" placeholder="Maximo de participantes" type="number">
              </div>
            </div>
          </nb-card-body>
        </nb-card>
        <nb-card
          *ngIf="router.url === ruta_admin">
          <nb-card-header>
            <span>Tipo de Empresa y Habilitación</span>
          </nb-card-header>
          <nb-card-body>
            <div class="row">
              <div class="col-sm-4 form-group">
                <nb-checkbox formControlName="especial" name="especial" value=0>Empresa Especial</nb-checkbox>
              </div>
              <div class="col-sm-4 form-group">
                <nb-checkbox formControlName="habilitado" name="habilitado" value=1>Empresa Habilitada</nb-checkbox>
              </div>
            </div>
          </nb-card-body>
        </nb-card>
        <nb-card>
          <nb-card-header>
            Ofertas y Demandas Empresariales
          </nb-card-header>
          <nb-card-body>
            <!--           <div class="row">
                         <div class="col-md-6 form-group">
                           <label for="oferta">Oferta</label>
                           <textarea formControlName="oferta" id="oferta" name="oferta" class="form-control" cols="30" rows="7"
                                     placeholder="Que productos o servicios ofrece su empresa"></textarea>
                           <div class="alert alert-danger"
                                *ngIf="empresaGroup.get('oferta').status === 'INVALID' && empresaGroup.get('oferta').dirty">
                             <strong>La oferta de su producto es obligatoria</strong>
                           </div>
                         </div>
                         <div class="col-md-6 form-group">
                           <label for="demanda">Demanda</label>
                           <textarea formControlName="demanda" id="demanda" name="demanda" class="form-control" cols="30" rows="7"
                                     placeholder="Que productos o servicios necesita su empresa"></textarea>
                           <div class="alert alert-danger"
                                *ngIf="empresaGroup.get('demanda').status === 'INVALID' && empresaGroup.get('demanda').dirty">
                             <strong>La demanda de su producto es obligatoria</strong>
                           </div>
                         </div>
                       </div>-->
            <ngx-ofertademanda (ofertas_demandas)="updateOfertasDemandas($event)" *ngIf="list !== null"
                               [list]="list"></ngx-ofertademanda>
          </nb-card-body>
        </nb-card>
        <button [disabled]="empresaGroup.status === 'INVALID'" class="btn btn-success" type="submit">Guardar</button>&nbsp;&nbsp;
        <a (click)="cancelar()" class="btn btn-danger">Cancelar</a>
      </form>
    </div>
  </div>
</div>

